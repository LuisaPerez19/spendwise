<div class="container">
  <h1>Welcome, <%= @user.email %>!</h1>

  <br>

  <div>
    <%= form_tag dashboard_path, method: :get, class: "d-flex" do %>
      <input type="date"
            id="start_date"
            name="start_date"
            class="form-control"
            value="<%= params[:start_date] || '' %>"
            placeholder="Start Date">
      <input type="date"
            id="end_date"
            name="end_date"
            class="form-control"
            value="<%= params[:end_date] || '' %>"
            placeholder="End Date">
      <%= submit_tag "Search", class: "btn btn-primary" %>
    <% end %>
  </div>

  <br>

  <div data-controller="date-filter">
  <label for="date-filter">Filter by date:</label>
  <select data-date-filter-target="dateFilter" data-action="change->date-filter#updateDateFilter">
    <option value="this_week">This week</option>
    <option value="this_month">This month</option>
    <option value="this_year">This year</option>
    <option value="last_week">Last week</option>
    <option value="q1">Q1</option>
    <option value="q2">Q2</option>
    <option value="q3">Q3</option>
    <option value="q4">Q4</option>
  </select>

  <p>Total expenses: <span data-date-filter-target="totalExpenses"></span></p>
</div>


  <div class="container">
    <div class="row mt-5">
      <div class="col-md-4">
        <div class="card bg-light mb-3" style="width: 15rem;height: 120px;">
          <div class="card-body">
            <p class="card-text text-center">Total Expenses</p>
            <p class="card-text text-center">£<%= @total_expenses %></p>
          </div>
        </div>
      </div>
    </div>
  </div>




  <h2>Your Recent Expenses</h2>

  <ul>
    <% @expenses.each do |expense| %>
      <li>
        <%= expense.category.name %> - £<%= expense.amount %> on <%= expense.date.strftime("%B %d, %Y") %>
      </li>
    <% end %>
  </ul>


</div>
